# Как да си направим image и да стартираме контейнера (нз дали може на ае, затова на бг)

1. Първото нещо, което трябва да си направим освен ако не използвате това репо, защото вече има Dockerfile, е именно Dockerfile-а. Който тук изглежда така:

    ```dockerfile
    # избираме си parent image, който искаме да надградим, в този случай използваме python alpine, тъй като просто е олекотена версия на обикновения python image
    FROM python:3.10-alpine

    # създаваме си workdir за контейнера
    WORKDIR /app

    # копираме всичко в тая директория в workdir-а на контейнера (btw копираме всичко с изключение на елементите в .dockerignore)
    COPY . .

    # инсталираме си всичките dependancy-та, които имаме в requirements.txt
    RUN pip install -r requirements.txt
    # бонус съвет - по време на разработка ползвам venv и след това пускам pip freeze > requirements.txt, за да си генерирам requirements.txt автпматично :3

    # казваме референта стойност (която не прави баш нищо, ама е добре за документация) кой порт планираме да ползваме със image-а
    EXPOSE 5000

    # казваме какъв entrypoint да ползваме, когато стартираме контейнера
    ENTRYPOINT python app.py
    ```

2. Втората стъпка е да създадем самия контейнер - това става със следната команда

    ```bash
    docker build -t <image_name> .
    ```

    Тъй като Dockerfile сме си го кръстили нормално не е нужно да описваме специфично, само трябва да покажем, че искаме да създадем image от текущата директория - с ```.```


3. След като сме готови с image-а е време да си създадем контейнер със следната команда:

    ```bash
    docker run -d -p 5000:5000 --name <container_name> <image_name>
    ```

    Използваме `-d`, за да се run-ва detached, а не в терминала (т.е. в background), `-p` - за да map-нем хост към контейнер порт и `--name` за ✨специално име✨

4. Накрая може да проверим дали работи с `docker ps` да видим run-ващите се процеси и също може да си отворим браузъра и да отидем на `{ip}:5000` и да видим дали работи.

И финално една снимчица на docker ps:
![docker ps](./docs/assets/docker_ps.png)